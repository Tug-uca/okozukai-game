# Phase 2: 技術設計 - 作業計画

## プロジェクト概要
「おこづかいチャレンジ！」ゲームの技術設計を行います。HTML/CSS/JavaScriptのみを使用し、GitHub Pagesでホスティング可能な静的サイトとして実装します。

## 技術制約
- HTML/CSS/JavaScript のみ（フレームワーク不可）
- ライブラリ使用は要相談
- 最小限のファイル構成
- GitHub Pages対応（静的サイト）

## 作業ステップ

### ステップ1: プロジェクト全体のファイル構成設計
- [x] ディレクトリ構造の設計
- [x] HTMLファイルの分割方針（単一ページ vs 複数ページ）の決定
- [x] CSSファイルの分割方針の決定
- [x] JavaScriptファイルの分割方針の決定
- [x] アセット（画像等）の配置場所の決定

[Question] ゲームは単一のHTMLファイル（SPAスタイル）で実装しますか？それとも各画面ごとに別々のHTMLファイルを作成しますか？
[Answer]コードができる限りシンプルになる方が良いです

[Question] 画像アセット（おもちゃ、お菓子などのアイコン）は、実際の画像ファイルを用意しますか？それとも一旦プレースホルダー（テキストや簡単なCSS図形）で進めますか？
[Answer]後で用意するので画像がない場合はテキストが表示されるようにしてください

### ステップ2: データ構造の設計
- [x] ゲーム状態を管理するオブジェクトの設計（GameState）
- [x] アイテムデータの構造設計（目標おもちゃ、お菓子、おもちゃ、ゲームセンター）
- [x] 誘惑イベントデータの構造設計
- [x] ハプニングイベントデータの構造設計
- [x] プレイヤーの計画データの構造設計
- [x] JSON形式でのデータ管理方法の決定

[Question] アイテムデータ（お菓子、おもちゃ等）は、JavaScriptファイル内に直接記述しますか？それとも別のJSONファイルとして管理しますか？
[Answer]外部JSON

### ステップ3: 状態管理の設計
- [x] ゲーム全体の状態遷移の設計（画面遷移の管理方法）
- [x] 現在の画面状態の管理方法
- [x] プレイヤーデータ（所持金、現在の月、計画など）の管理方法
- [x] 状態更新のタイミングと方法の設計
- [x] ローカルストレージの使用可否の判断

[Question] ゲームの進行状態（現在の月、所持金など）を一時的に保存する機能は必要ですか？（例：ブラウザをリロードしても続きからプレイできる）それとも、リロードしたら最初からやり直しでよいですか？
[Answer]実装が複雑なら不要。実装が簡単なら必要

### ステップ4: 主要な関数・モジュールの設計
- [x] 画面表示を制御する関数群の設計（View層）
- [x] ゲームロジックを処理する関数群の設計（Logic層）
- [x] イベント処理を担当する関数群の設計（Controller層）
- [x] ユーティリティ関数の設計（計算、ランダム生成など）
- [x] 各関数の責任範囲と依存関係の整理

### ステップ5: UI/UX実装方針の設計
- [x] 画面遷移の実装方法（display切り替え、クラス追加/削除など）
- [x] アニメーション実装方針（CSS transition/animation vs JavaScript）
- [x] レスポンシブデザインの方針（モバイル対応）
- [x] アクセシビリティ対応の方針（キーボード操作、スクリーンリーダー対応）

[Question] アニメーション（お金の増減エフェクト、画面遷移など）は、CSSだけで実装しますか？それとも必要に応じてJavaScriptライブラリ（例：anime.jsなど）の使用を検討しますか？
[Answer]JavaScriptもOK

[Question] スマートフォンやタブレットでのプレイを主に想定していますか？それともPCでのプレイも同等に重要ですか？
[Answer]スマートフォン

### ステップ6: イベントシステムの設計
- [x] 誘惑イベントの発生ロジックの設計
- [x] ハプニングイベントの発生ロジックの設計
- [x] ランダム性の実装方針（確率計算）
- [x] イベントのカテゴリごとの管理方法
- [x] イベントデータの拡張性の確保

### ステップ7: 計算ロジックの設計
- [x] 月ごとの所持金計算ロジック
- [x] 目標達成判定ロジック
- [x] 計画期間の自動計算ロジック
- [x] 計画との差分計算ロジック
- [x] 進捗バーの計算ロジック

### ステップ8: ビジュアル実装方針の設計
- [x] CSSフレームワークの使用可否の判断
- [x] 色のテーマ設定（CSS変数の使用）
- [x] フォントの選定（Google Fontsなど）
- [x] ルビ（振り仮名）の実装方法
- [x] ボタンデザインの統一方針

[Question] CSSフレームワーク（Bootstrap、Tailwind CSSなど）は使用しますか？それとも完全に自作のCSSで進めますか？
[Answer]コードがシンプルになること優先

### ステップ9: 拡張性・保守性の設計
- [x] コードのコメント記述方針
- [x] 定数の管理方法（マジックナンバーの排除）
- [x] 新しいアイテム追加時の手順の明確化
- [x] イベント追加時の手順の明確化
- [x] デバッグ・テスト方針の検討

### ステップ10: 技術設計ドキュメントの作成
- [x] `docs/technical_design.md` ファイルの作成
- [x] ファイル構成セクションの記述
- [x] データ構造セクションの記述
- [x] 主要な関数/クラスセクションの記述
- [x] 状態管理の方針セクションの記述
- [x] UI/UX実装方針セクションの記述
- [x] イベントシステムセクションの記述
- [x] 拡張性・保守性セクションの記述
- [x] レビューと修正

## 成果物
- `docs/technical_design.md`（ファイル構成、主要な関数/クラス、状態管理の方針）

## 注意事項
- 各ステップで質問がある場合は、進行を止めて質問します
- 独自の判断や決定は行わず、必ずユーザーの承認を得ます
- すべての質問に回答いただいた後、技術設計ドキュメントを作成します
